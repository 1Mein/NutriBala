import{o as r,a as i,F as d,r as a,b as t,t as n,d as u}from"./app-W7RTq0b8.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const m={data(){return{products:[],activeProductId:null,activeProduct:null,current_dishes:[]}},mounted(){this.fetchProducts()},methods:{fetchProducts(){axios.get("/api/v1/products").then(s=>this.products=s.data).catch(s=>console.log(s))},fetchProductDishes(s){axios.get("/api/v1/products/"+s+"/dishes").then(e=>this.current_dishes=e.data).catch(e=>console.log(e))},toggleInfo(s){this.activeProductId=this.activeProductId===s?null:s,this.activeProductId!==null?(this.fetchProductDishes(s),this.activeProduct=this.products.find(e=>e.id===this.activeProductId)):(this.current_dishes=[],this.activeProduct=null)}}},_={class:"grid gap-4 mt-5 lg:grid-cols-3 md:grid-cols-2 grid-rows-4"},g={class:"border-2 border-gray-100 rounded-3xl h-full"},f=["onClick"],v=["src"],p={class:"mt-2 text-lg font-bold text-center"},x={key:0,class:"fixed inset-0 bg-black bg-opacity-75 text-white flex flex-col justify-center items-center p-4 transition-opacity duration-300"},P={class:"text-xl font-semibold mb-2"},b={class:"mt-5"},k={class:"flex mt-3"},y=["src"],I={class:"my-auto ms-3"};function w(s,e,C,B,c,l){return r(),i("div",_,[(r(!0),i(d,null,a(c.products,o=>(r(),i("div",{key:o.id,class:"mx-5 relative group"},[t("div",g,[t("div",{onClick:D=>l.toggleInfo(o.id),class:"cursor-pointer"},[t("img",{src:o.images,alt:"",class:"transform transition-transform duration-300 hover:scale-110 object-cover"},null,8,v),t("h1",p,n(o.name),1)],8,f)])]))),128)),c.activeProduct!==null?(r(),i("div",x,[t("h2",P,n(c.activeProduct.name),1),t("p",null,n(c.activeProduct.desc),1),t("div",b,[e[1]||(e[1]=t("h1",{class:"bold text-xl"},"Можно приготовить:",-1)),t("div",null,[c.current_dishes?(r(!0),i(d,{key:0},a(c.current_dishes,o=>(r(),i("div",k,[t("img",{src:o.images,alt:"",class:"rounded-full w-[70px]"},null,8,y),t("p",I,n(o.name),1)]))),256)):u("",!0)])]),t("button",{onClick:e[0]||(e[0]=o=>l.toggleInfo(null)),class:"mt-4 bg-white text-black px-4 py-2 rounded"},"Закрыть")])):u("",!0)])}const N=h(m,[["render",w]]);export{N as default};
